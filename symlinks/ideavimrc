source ~/.vim/vimrc
source ~/.vim/plugins.vim

" IdeaVIM plugins
set surround
set commentary
set NERDTree

" IdeaVIM settings
set ideajoin
set idearefactormode=keep

" IdeaVIM mappings
nnoremap [c :action VcsShowPrevChangeMarker<cr>
nnoremap ]c :action VcsShowNextChangeMarker<cr>

nnoremap <C-P> :action SearchEverywhere<CR>
nnoremap gd :action GotoDeclaration<CR>
nnoremap gi :action GotoImplementation<CR>
nnoremap gr :action FindUsages<CR>
nnoremap <leader>rn :action RenameElement<CR>
nnoremap <C-A-F> :action FindInPath<CR>
nnoremap <leader>tn :action RunAnything<CR>
nnoremap <leader>tf :action RunClass<CR>
inoremap <C-K> <esc>:action ParameterInfo<CR>a
nnoremap <C-K> :action ParameterInfo<CR>

nnoremap <leader>db :action ToggleLineBreakpoint<CR>
nnoremap <leader>dc :action ChooseDebugConfiguration<CR>

nnoremap <leader>ac :action ShowIntentionActions<CR>

command! Start action Run
if &ide =~? 'rider'
    command! A action SwitchHeaderSource
else
    command! A action GotoTest
endif
command! Scratch action NewScratchBuffer
command! Ex NERDTree
command! Gw action Git.Add
command! Ggpull action Git.Pull
command! Gdiffsplit action Git.CompareWithBranch
command! G action Git.Menu
command! Gpro action Github.Create.Pull.Request
command! Gblame action Annotate
command! TODO action ActivateTODOToolWindow
command! te action ActivateTerminalToolWindow
command! Sync action Android.SyncProject
command! Reformat action ReformatCode